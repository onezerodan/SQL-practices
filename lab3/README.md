# Лабораторная работа №3

На въезде-выезде из города расположено несколько ( >=4) постов ГИБДД.
Там регистрируются все выезжающие и въезжающие автомобили.
Камера считывает гос.номер автомобиля и распознает его.
В базу данных заносятся только правильные (правильно распознанные). Формат номера должен иметь вид CNNNCCNN или CNNNCCNNN, где C – буква, N – цифра. (Буквы в номере должны иметь одинаковое начертание в латинице и кириллице, а первое трехзначное число должно быть натуральным. Если номер имеет вид CNNNCCNNN, то первая цифра во втором трехзначном числе может быть только 1,2 или 7).  
В базу также заносится время проезда и направление движения (в город или из города). Автомобиль не может 2 раза подряд въехать или выехать из города (чтобы въехать во второй раз автомобиль должен обязательно выехать. Между въездом и выездом и наоборот должен быть временной промежуток, например не менее 5 минут).
Эти условия должны отслеживаться ключами, триггерами и ограничениями check. Все типы ограничений должны использоваться.
В скрипте иметь тест на проверку корректной работы ограничений.
Транзитными автомобилями считаются автомобили, въехавшие через один пост и выехавшие через другой и зарегистрированные в другом регионе. Регион определяется по последнему числу номера, например 74, 174 - Челябинская область. Иногородними автомобилями считаются автомобили, въехавшие и выехавшие через один пост. Местными автомобилями считаются автомобили, выехавшие и вернувшиеся в город и имеющие номера данного региона. Прочие, не попавшие в перечисленные типы.
Все данные анализируются за одни сутки.
В базе должен быть справочник регионов и коды номеров этих регионов.
В запросах выводить автомобили различных категорий, номер, регион, время въезда-выезда. Уметь делать различные группировки и фильтры, применять агрегирующие функции.
Все таблицы в базе должны быть максимально нормализованы.
Продумать и создать необходимые индексы для таблиц.
Результаты запросов представить в виде представлений.
